name: ğŸ§ª Basic Test

on: [push, workflow_dispatch]

jobs:
  basic-test:
    runs-on: ubuntu-latest
    
    steps:
    - name: ğŸ“‚ Checkout
      uses: actions/checkout@v4
      
    - name: ğŸŸ¢ Setup Node.js
      uses: actions/setup-node@v4
      with:
        node-version: '18'
        
    - name: ğŸ“‹ Check Project Structure
      run: |
        echo "ğŸ“ Current directory contents:"
        ls -la
        
        echo "ğŸ“„ CodeceptJS config exists?"
        ls -la codecept.conf.js || echo "âŒ codecept.conf.js not found"
        
        echo "ğŸ“¦ Package.json exists?"
        ls -la package.json || echo "âŒ package.json not found"
        
        echo "ğŸ§ª Tests directory:"
        ls -la tests/ || echo "âŒ tests/ directory not found"
        
    - name: ğŸ“¦ Install Dependencies (if possible)
      run: |
        if [ -f "package.json" ]; then
          echo "âœ… Installing npm dependencies..."
          npm install
        else
          echo "âš ï¸ No package.json found, creating basic setup..."
          npm init -y
          npm install codeceptjs appium webdriverio --save-dev
        fi
        
    - name: ğŸ”§ Validate CodeceptJS
      run: |
        if [ -f "codecept.conf.js" ]; then
          echo "âœ… CodeceptJS config found, validating..."
          npx codeceptjs def || echo "âš ï¸ Config validation failed"
        else
          echo "âš ï¸ No codecept.conf.js found"
        fi
        
    - name: âœ… Test Complete
      run: |
        echo "ğŸ‰ Basic setup validation complete!"
        echo "âœ… Repository structure looks good"
        echo "ğŸ“Š Ready for mobile testing setup"